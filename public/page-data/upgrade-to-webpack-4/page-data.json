{"componentChunkName":"component---src-templates-blog-post-js","path":"/upgrade-to-webpack-4/","result":{"data":{"markdownRemark":{"html":"<p>This article is also cross-posted in —</p>\n<p>DEV - <a href=\"https://dev.to/flexdinesh/upgrade-to-webpack-4---5bc5\">Upgrade to Webpack 4</a></p>\n<p>HackerNoon - <a href=\"https://hackernoon.com/upgrade-to-webpack-4-3ebb199aa9bf\">Upgrade to Webpack 4</a></p>\n<p>codeburst - <a href=\"https://codeburst.io/upgrade-to-webpack-4-78b40b5251d9\">Upgrade to Webpack 4</a></p>\n<hr>\n<p><img src=\"https://image.ibb.co/n6oUYS/webpack_upgrade.png\" alt=\"Upgrade to Webpack 4\"></p>\n<p><strong>Webpack 4</strong> <em>(codename Legato)</em> was released two weeks back. And it is packed with a lot of shiny features. Unlike Webpack 3, which was not a major upgrade over its predecessor, Webpack 4 has a string of compelling features.</p>\n<p>Major changes to look out for -</p>\n<p><strong>1. Reduced Build Time</strong>\nThe build time has gone down massively (more than 60%)</p>\n<p><strong>2. Zero configuration</strong>\nYou can now start using webpack with any project without any config file (introducing <em>mode</em>)</p>\n<p>I recently upgraded my <a href=\"https://github.com/flexdinesh/react-redux-boilerplate\">React-Redux Boilerplate</a> to Webpack 4. There are no clear docs out there for migration yet, so it took me quite some time and struggle to complete the upgrade. I am writing down everything I figured so it can help anyone who wants to upgrade.</p>\n<p>The following are the config changes that need to be done.</p>\n<ul>\n<li>Mode</li>\n<li>Plugins</li>\n<li>Dependencies</li>\n</ul>\n<h2>Mode</h2>\n<p>Webpack 4 has two modes - <em>development</em> and <em>production</em>.</p>\n<p>Previously we passed the flag <code>-p</code> to the webpack command to run a production build. With Webpack 4, you should always pass in <code>mode</code> option. You have two ways to pass in mode,</p>\n<h3>1. Pass through npm script</h3>\n<p>In your <code>package.json</code> -</p>\n<pre><code class=\"language-js\">\"build\": \"webpack --config config/webpack.dev.config.js --mode development\"\n\"build:prod\": \"webpack --config config/webpack.prod.config.js --mode production\"\n</code></pre>\n<h3>2. Pass through config file</h3>\n<p>In your <code>webpack.dev.config.js</code></p>\n<pre><code class=\"language-js\">mode: 'development'\n</code></pre>\n<p>In your <code>webpack.prod.config.js</code></p>\n<pre><code class=\"language-js\">mode: 'production'\n</code></pre>\n<h2>Plugins</h2>\n<p>The following plugins have been removed from Webpack 4 which were extensively used in previous versions.</p>\n<ul>\n<li>NoEmitOnErrorsPlugin</li>\n<li>ModuleConcatenationPlugin</li>\n<li>NamedModulesPlugin</li>\n<li>CommonsChunkPlugin</li>\n</ul>\n<p>Now instead, the configuration of these plugins should go inside the key <code>optimization</code> in the <code>config file</code> with their corresponding options.</p>\n<p>This snippet might give you more info</p>\n<pre><code class=\"language-js\">plugins: [\n    // new webpack.NamedModulesPlugin(), => not used like this anymore\n    // new webpack.NoEmitOnErrorsPlugin(), => not used like this anymore\n    // new webpack.optimize.CommonsChunkPlugin({ => not used like this anymore\n        // name: 'vendor',\n        // children: true,\n        // minChunks: 2,\n        // async: true,\n    // }),\n    // new webpack.optimize.ModuleConcatenationPlugin(), => not used like this anymore\n],\n\noptimization: {\n    namedModules: true, // NamedModulesPlugin()\n    splitChunks: { // CommonsChunkPlugin()\n        name: 'vendor',\n        minChunks: 2\n    },\n    noEmitOnErrors: true, // NoEmitOnErrorsPlugin\n    concatenateModules: true //ModuleConcatenationPlugin\n}\n</code></pre>\n<h2>Dependencies</h2>\n<p>If you're using dependencies like <code>webpack-hot-middleware</code> and <code>image-webpack-loader</code>, make sure you upgrade them as well. I ran into a weird issue with <code>webpack-hot-middleware</code> but once I upgraded it to the latest version, it got resolved automatically.</p>\n<p>You can refer to this <a href=\"https://github.com/flexdinesh/react-redux-boilerplate/commit/69dc839ad84c37b170e4c3d6f1f8ecb735fc2791\">commit</a> in <a href=\"https://github.com/flexdinesh/react-redux-boilerplate\">React-Redux Boilerplate</a> for reference.</p>\n<p>Webpack 4 is great in so many ways. But the lack of docs for upgrade is a bummer. But then, we're all amazing problem solvers, so we don't mind.</p>\n<p>If you're planning to upgrade to Webpack 4, don't think twice, your dev experience will definitely multifold. God Speed!</p>\n<p>Have a nice day! ✨</p>","frontmatter":{"title":"Upgrade to Webpack 4","canonicalURL":"https://dev.to/flexdinesh/upgrade-to-webpack-4---5bc5","date":"Mar 12, 2018","noPage":null}}},"pageContext":{"slug":"/upgrade-to-webpack-4/"}},"staticQueryHashes":["1381026181","3065158460"]}